{
  "hash": "165c4aaf4499b76b069b74ec9a410d4e",
  "result": {
    "markdown": "---\ntitle: Representation Analysis\nauthor:\n  - name: Liang Zhang\n  - name: Jintao Sheng\nformat:\n  html:\n    code-fold: true\n    toc: true\nexecute:\n  warning: false\nbibliography: references.bib\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n\n# Inter-subject representation similarity\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntargets::tar_load(c(subj_pair_filter, rsa_inter_common_trials, mem_perf))\n```\n:::\n\n\n## Abstract vs Concrete\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrsa_inter_common_trials |>\n  summarise(\n    mean_se(fisher_z),\n    .by = c(region_id, word_category)\n  ) |>\n  ggplot(aes(region_id, y, ymax = ymax, ymin = ymin)) +\n  geom_col(aes(fill = word_category), position = position_dodge(width = 0.4), width = 0.4) +\n  geom_errorbar(aes(group = word_category), position = position_dodge(width = 0.4), width = 0) +\n  scale_x_continuous(name = \"Region\", breaks = scales::breaks_width(1)) +\n  scale_y_continuous(name = \"Intersubject Correlation\") +\n  ggsci::scale_fill_d3(name = \"Word Type\") +\n  ggpubr::theme_pubclean()\n```\n\n::: {.cell-output-display}\n![Verify if intersubject similarity of concrete is larger than that of abstract.](index_files/figure-html/fig-inter-abs-con-1.png){#fig-inter-abs-con width=672}\n:::\n:::\n\n\n## Subsequent memory effect\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrsa_inter_common_trials |>\n  summarise(\n    mean_se(fisher_z),\n    .by = c(region_id, response_type_shared)\n  ) |>\n  ggplot(aes(region_id, y, ymax = ymax, ymin = ymin)) +\n  geom_col(aes(fill = response_type_shared), position = position_dodge(width = 0.4), width = 0.4) +\n  geom_errorbar(aes(group = response_type_shared), position = position_dodge(width = 0.4), width = 0) +\n  scale_x_continuous(name = \"Region\", breaks = scales::breaks_width(1)) +\n  scale_y_continuous(name = \"Intersubject Correlation\") +\n  scale_fill_brewer(name = \"Mem Type Common\", palette = \"Oranges\", direction = -1) +\n  ggpubr::theme_pubclean()\n```\n\n::: {.cell-output-display}\n![Average inter-subject representation similarity among different memory conditions](index_files/figure-html/fig-inter-mem-eff-1.png){#fig-inter-mem-eff width=672}\n:::\n:::\n\n\n# Predict Memory ability\n\nThe indicator calculation is based on [@manns2003].\n\n## Individual-to-group synchronization predicts memory performance\n\n\n::: {#fig-predict-performance .cell .column-page}\n\n```{.r .cell-code}\narrow::read_parquet(targets::tar_read(file_rs_group_whole)) |>\n  inner_join(mem_perf, by = \"subj_id\", relationship = \"many-to-many\") |>\n  filter(mem_type %in% c(\"knowadj\", \"remember\")) |>\n  ggplot(aes(fisher_z, dprime, color = mem_type)) +\n  geom_point() +\n  stat_smooth(method = \"lm\", formula = y ~ x) +\n  ggpmisc::stat_correlation(\n    ggpmisc::use_label(c(\"r\", \"p.value\")),\n    small.r = TRUE,\n    small.p = TRUE\n  ) +\n  scale_color_brewer(palette = \"Dark2\", guide = \"none\") +\n  scale_x_continuous(\n    name = \"Individual-to-Group Similarity\",\n    breaks = scales::breaks_pretty(n = 4)\n  ) +\n  scale_y_continuous(name = \"d'\") +\n  facet_grid(\n    rows = vars(mem_type),\n    cols = vars(region_id),\n    labeller = labeller(\n      mem_type = c(\n        knowadj = \"Familiarity\",\n        remember = \"Recollection\"\n      )\n    ),\n    scales = \"free_x\",\n  ) +\n  ggpubr::theme_pubr()\n\narrow::read_parquet(targets::tar_read(file_rs_group_trial)) |>\n  summarise(\n    mean_fisher_z = mean(fisher_z, na.rm = TRUE),\n    .by = c(region_id, subj_id)\n  ) |>\n  inner_join(mem_perf, by = \"subj_id\", relationship = \"many-to-many\") |>\n  filter(mem_type %in% c(\"knowadj\", \"remember\")) |>\n  ggplot(aes(mean_fisher_z, dprime, color = mem_type)) +\n  geom_point() +\n  stat_smooth(method = \"lm\", formula = y ~ x) +\n  ggpmisc::stat_correlation(\n    ggpmisc::use_label(c(\"r\", \"p.value\")),\n    small.r = TRUE,\n    small.p = TRUE\n  ) +\n  scale_color_brewer(palette = \"Dark2\", guide = \"none\") +\n  scale_x_continuous(\n    name = \"Average Individual-to-Group Similarity\",\n    breaks = scales::breaks_pretty(n = 4)\n  ) +\n  scale_y_continuous(name = \"d'\") +\n  facet_grid(\n    rows = vars(mem_type),\n    cols = vars(region_id),\n    labeller = labeller(\n      mem_type = c(\n        knowadj = \"Familiarity\",\n        remember = \"Recollection\"\n      )\n    ),\n    scales = \"free_x\",\n  ) +\n  ggpubr::theme_pubr()\n```\n\n::: {.cell-output-display}\n![Concatenate all trials into one time series](index_files/figure-html/fig-predict-performance-1.png){#fig-predict-performance-1 width=1152}\n:::\n\n::: {.cell-output-display}\n![Average all trial-level synchronization](index_files/figure-html/fig-predict-performance-2.png){#fig-predict-performance-2 width=1152}\n:::\n\nPredict memory performance from individual-to-group synchronization\n:::\n\n\n# References\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}